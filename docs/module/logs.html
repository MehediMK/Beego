<!DOCTYPE html>
<html>
	
<!-- Mirrored from beego.vip/docs/module/logs.md by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 27 Apr 2022 04:29:25 GMT -->
<!-- Added by HTTrack -->
<!-- Mirrored from beego.w3engineers.com/beego.vip/docs/module/logs.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Oct 2022 03:29:53 GMT -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="slene, Unknown" />

<title>Logs Module - beego: simple &amp; powerful Go app framework</title>

<link rel="shortcut icon" href="../../static/img/favicon.png" />


<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="../../static/css/lib.mine67fe67f.css?ver=1650787190" />

<!--[if IE 7]>
<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="/static/css/ie7.min.css?ver=1650787190" />

<![endif]-->
<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="../../static/css/app.mine67fe67f.css?ver=1650787190" />


<!--[if lt IE 9]>
	<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="/static/js/ie9.min.js?ver=1650787190"></script>

<![endif]-->
		
	</head>
	<body id="front">
		<noscript>Please enable JavaScript in your browser!</noscript>
		<div id="wrapper">
			<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container" data-toggle="clingify">
        <div class="row">
            <div class="navbar-header">
                
                <span class="visible-xs">
                    <a id="docs-collapse-btn" class="navbar-btn" data-toggle="jpanel-menu" data-target="#docs-collapse">
                        <span class="sr-only">Toggle docs menu</span>
                        <i class="icon icon-angle-right"></i>
                    </a>
                </span>
                
                <a type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="hidden-xs logo" href="../../index.html">
                    <img style="height:32px;width:102px;" src="../../static/img/beego_purple.png">
                </a>
                <div class="visible-xs text-center">
                    <a class="navbar-brand" href="../../index.html">
                        Beego
                    </a>
                    
                    <span class="nav-github">
                        <span rel="show-github" data-user="astaxie" data-repo="beego"></span>
                    </span>
                    
                </div>
            </div>
            <div class="collapse navbar-collapse" role="navigation" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li ><a href="../../index.html">Home</a></li>
                    <li ><a href="../../quickstart.html">Getting started</a></li>
                    <li ><a href="../../community.html">Community</a></li>
                    <li class="active"><a href="../intro/index.html">Documentation</a></li>
                    <li ><a href="../../video.html">Video</a></li>
                    <li ><a href="../../products.html">Products</a></li>
                    <li ><a href="../../blog.html">Blog</a></li>
                </ul>
                <div class="hidden-sm hidden-xs nav-lang pull-right">
                    <div class="btn-group">
                        <button type="button" class="btn btn-xs btn-default btn-md dropdown-toggle" data-toggle="dropdown">Language:English <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="zh-CN" class="lang-changed">简体中文</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                </div>
                <div class="hidden-sm hidden-xs nav-github pull-right">
                    <span rel="show-github" data-user="beego" data-repo="beego"></span>
                    <span rel="show-github" data-user="beego" data-repo="beego" data-type="fork"></span>
                </div>
            </div>
        </div>
    </div>
</nav>

			<div id="main">
				
<div class="container main-container">
    <div class="row">
        <div class="col-md-2 col-sm-3">
            <div id="docs-collapse" class="collapse navbar-collapse docs-sidenav">
                
                    
                    
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../intro/index.html">Beego introduction</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../intro/contributing.html">Contributing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../intro/releases.html">Release Notes</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../intro/upgrade.html">Upgrade Beego</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../install/index.html">Install / Upgrade</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../install/bee.html">bee tool usage</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../quickstart/index.html">Quickstart</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../quickstart/new.html">Create a new project</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../quickstart/router.html">Routing settings</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../quickstart/controller.html">Controller</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../quickstart/model.html">Models</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../quickstart/view.html">View</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../quickstart/static.html">Static files</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../mvc/index.html">MVC Introduction</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Controllers
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/config.html">Configuration</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/router.html">Routing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/controller.html">Controller funcs</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/params.html">Request parameters</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/xsrf.html">XSRF filtering</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/filter.html">Filters</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/session.html">Session control</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/flash.html">Flash messages</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/urlbuilding.html">URL Building</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/jsonxml.html">Response formats</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/validation.html">Form validation</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/errors.html">Error Handling</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/controller/logs.html">Logging</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Models
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/overview.html">Overview</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/orm.html">ORM Usage</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/object.html">CRUD Operations</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/query.html">Advanced Queries</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/rawsql.html">Raw SQL to query</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/querybuilder.html">Query Builder</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/transaction.html">Transaction</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/models.html">Model Definition</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/cmd.html">Command Line</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/test.html">Test Cases</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/custom_fields.html">Custom Fields</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/model/faq.html">FAQ</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Views
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/view/view.html">Template Parsing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/view/template.html">Template Functions</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/view/static.html">Static files</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/view/page.html">Pagination</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../mvc/view/global_variables.html">Global Variables</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="index.html">Modules</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="session.html">Session Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="cache.html">Cache Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class="active item" href="logs.html">Logs Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="httplib.html">Httplib Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="context.html">Context Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="toolbox.html">toolbox</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="task.html">Task Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="admin.html">Admin module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="config.html">Config Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="governor.html">Governor module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="i18n.html">i18n Module</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../advantage/index.html">Advanced Beego</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../advantage/monitor.html">Live Monitor</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../advantage/docs.html">Automated API Documentation</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../contributed/index.html">Middleware contribution</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../deploy/index.html">Deployment</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../deploy/beego.html">Stand alone Deployment</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../deploy/supervisor.html">Deployment with Supervisord</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../deploy/systemctl.html">Deployment with Systemctl</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../deploy/nginx.html">Deployment with nginx</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../deploy/apache.html">Deployment with Apache</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../examples/index.html">Demos</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../examples/chat.html">Chat Room</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../examples/shorturl.html">URL Shortener</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../examples/todo.html">To-do List</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../faq/index.html">FAQ</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
    

                
            </div>
        </div>
        <div class="col-md-10 col-sm-9">
            <div class="box">
				<div>
					<script>
					  (function() {
					    var cx = '014389342508982455625:2tomkdt5uo4';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script>
					<gcse:search></gcse:search>
				</div>
                <div class="cell slim page-box">
                    <p>
                        <a href="https://github.com/beego/beedoc/blob/master/en-US/module/logs.md" class="pull-right btn btn-info" target="_blank">Improve this page on GitHub</a>
                        <span class="clearfix"></span>
                    </p>
                    <div class="markdown docs-markdown">
                        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta name="GENERATOR" content="Blackfriday Markdown Processor v1.1" />
  <meta charset="utf-8" />
</head>
<body>

<h1>Logging</h1>

<p>The logging module is inspired by <code>database/sql</code>. It supports file, console, net and smtp as destination providers by default. It is installed like this:</p>

<pre><code>go get github.com/beego/beego/v2/core/logs
</code></pre>

<h2>Basic Usage</h2>

<h3>General Usage</h3>

<p>Import package:</p>

<pre><code>import (
    &quot;github.com/beego/beego/v2/core/logs&quot;
)
</code></pre>

<p>Initialize log variable (10000 is the cache size):</p>

<pre><code>log := logs.NewLogger(10000)
</code></pre>

<p>Then add the output provider (it supports outputting to multiple providers at the same time). The first parameter is the provider name (<code>console</code>, <code>file</code>,<code>multifile</code>, <code>conn</code> , <code>smtp</code> or <code>es</code>).</p>

<pre><code>log.SetLogger(&quot;console&quot;)
</code></pre>

<p>The second parameter is a provider-specific configuration string (see below for details).</p>

<pre><code>logs.SetLogger(logs.AdapterFile,`{&quot;filename&quot;:&quot;project.log&quot;,&quot;level&quot;:7,&quot;maxlines&quot;:0,&quot;maxsize&quot;:0,&quot;daily&quot;:true,&quot;maxdays&quot;:10,&quot;color&quot;:true}`)
</code></pre>

<p>Then we can use it in our code:</p>

<pre><code>package main

import (
    &quot;github.com/beego/beego/v2/core/logs&quot;
)

func main() {    
    //an official log.Logger
    l := logs.GetLogger()
    l.Println(&quot;this is a message of http&quot;)
    //an official log.Logger with prefix ORM
    logs.GetLogger(&quot;ORM&quot;).Println(&quot;this is a message of orm&quot;)

    logs.Debug(&quot;my book is bought in the year of &quot;, 2016)
    logs.Info(&quot;this %s cat is %v years old&quot;, &quot;yellow&quot;, 3)
    logs.Warn(&quot;json is a type of kv like&quot;, map[string]int{&quot;key&quot;: 2016})
    logs.Error(1024, &quot;is a very&quot;, &quot;good game&quot;)
    logs.Critical(&quot;oh,crash&quot;)
}
</code></pre>

<h3>Another Way</h3>

<p>beego/logs supports to declare a single logger to use</p>

<pre><code>    package main

    import (
        &quot;github.com/beego/beego/v2/core/logs&quot;
    )

    func main() {
        log := logs.NewLogger()
        log.SetLogger(logs.AdapterConsole)
        log.Debug(&quot;this is a debug message&quot;)
    }
</code></pre>

<h2>Logging caller information (file name &amp; line number)</h2>

<p>The module can be configured to include the file &amp; line number of the log calls in the logging output. This functionality is disabled by default, but can be enabled using the following code:</p>

<pre><code>logs.EnableFuncCallDepth(true)
</code></pre>

<p>Use <code>true</code> to turn file &amp; line number logging on, and <code>false</code> to turn it off. Default is <code>false</code>.</p>

<p>If your application encapsulates the call to the log methods, you may need use <code>SetLogFuncCallDepth</code> to set the number of stack frames to be skipped before the caller information is retrieved. The default is 2.</p>

<pre><code>logs.SetLogFuncCallDepth(3)
</code></pre>

<h2>Logging asynchronously</h2>

<p>You can set logger to asynchronous logging to improve performance:</p>

<pre><code>logs.Async()
</code></pre>

<p>Add a parameter to set the length of buffer channel</p>

<pre><code>logs.Async(1e3)
</code></pre>

<h2>Provider configuration</h2>

<p>Each provider supports a set of configuration options.</p>

<ul>
<li><p>console</p>

<p>Can set output level or use default. Uses <code>os.Stdout</code> by default.</p>

<pre><code>logs.SetLogger(logs.AdapterConsole, `{&quot;level&quot;:1}`)
</code></pre></li>

<li><p>file</p>

<p>E.g.:</p>

<pre><code>logs.SetLogger(logs.AdapterFile, `{&quot;filename&quot;:&quot;test.log&quot;}`)
</code></pre>

<p>Parameters:</p>

<ul>
<li>filename: Save to filename.<br /></li>
<li>maxlines: Maximum lines for each log file, 1000000 by default.<br /></li>
<li>maxsize: Maximum size of each log file, 1 &lt;&lt; 28 or 256M by default.<br /></li>
<li>daily: If log rotates by day, true by default.<br /></li>
<li>maxdays: Maximum number of days log files will be kept, 7 by default.<br /></li>
<li>rotate: Enable logrotate or not, true by default.<br /></li>
<li>level: Log level, Trace by default.<br /></li>
<li>perm: Log file permission<br /></li>
</ul></li>

<li><p>multifile</p>

<p>E.g.:</p>

<pre><code>logs.SetLogger(logs.AdapterMultiFile, ``{&quot;filename&quot;:&quot;test.log&quot;,&quot;separate&quot;:[&quot;emergency&quot;, &quot;alert&quot;, &quot;critical&quot;, &quot;error&quot;, &quot;warning&quot;, &quot;notice&quot;, &quot;info&quot;, &quot;debug&quot;]}``)
</code></pre>

<p>Parameters:</p>

<ul>
<li>filename: Save to filename.<br /></li>
<li>maxlines: Maximum lines for each log file, 1000000 by default.<br /></li>
<li>maxsize: Maximum size of each log file, 1 &lt;&lt; 28 or 256M by default.<br /></li>
<li>daily: If log rotates by day, true by default.<br /></li>
<li>maxdays: Maximum number of days log files will be kept, 7 by default.<br /></li>
<li>rotate: Enable logrotate or not, true by default.<br /></li>
<li>level: Log level, Trace by default.<br /></li>
<li>perm: Log file permission<br /></li>
<li>separate: Log file will separate to test.error.log/test.debug.log as the log level set in the json array<br /></li>
</ul></li>

<li><p>conn</p>

<p>Net output:</p>

<pre><code>logs.SetLogger(logs.AdapterConn, `{&quot;net&quot;:&quot;tcp&quot;,&quot;addr&quot;:&quot;:7020&quot;}`)
</code></pre>

<p>Parameters:</p>

<ul>
<li>reconnectOnMsg: If true: reopen and close connection every time a message is sent. False by default.<br /></li>
<li>reconnect: If true: auto connect. False by default.<br /></li>
<li>net: connection type: tcp, unix or udp.<br /></li>
<li>addr: net connection address.<br /></li>
<li>level: Log level, Trace by default.<br /></li>
</ul></li>

<li><p>smtp</p>

<p>Log by email:</p>

<pre><code>logs.SetLogger(logs.AdapterMail, `{&quot;username&quot;:&quot;beegotest@gmail.com&quot;,&quot;password&quot;:&quot;xxxxxxxx&quot;,&quot;host&quot;:&quot;smtp.gmail.com:587&quot;,&quot;sendTos&quot;:[&quot;xiemengjun@gmail.com&quot;]}`)
</code></pre>

<p>Parameters:</p>

<ul>
<li>username: smtp username.<br /></li>
<li>password: smtp password.<br /></li>
<li>host: SMTP server host.<br /></li>
<li>sendTos: email addresses to which the logs will be sent.<br /></li>
<li>subject: email subject, <code>Diagnostic message from server</code> by default.<br /></li>
<li>level: Log level, Trace by default.<br /></li>
</ul></li>

<li><p>ElasticSearch</p>

<p>Log to ElasticSearch:</p>

<pre><code>logs.SetLogger(logs.AdapterEs, `{&quot;dsn&quot;:&quot;http://localhost:9200/&quot;,&quot;level&quot;:1}`)
</code></pre></li>

<li><p>JianLiao</p>

<p>Log to JianLiao</p>

<pre><code>logs.SetLogger(logs.AdapterJianLiao, `{&quot;authorname&quot;:&quot;xxx&quot;,&quot;title&quot;:&quot;beego&quot;, &quot;webhookurl&quot;:&quot;https://jianliao.com/xxx&quot;, &quot;redirecturl&quot;:&quot;https://jianliao.com/xxx&quot;,&quot;imageurl&quot;:&quot;https://jianliao.com/xxx&quot;,&quot;level&quot;:1}`)
</code></pre></li>

<li><p>Slack</p></li>
</ul>

<p>Log to Slack</p>

<pre><code>    logs.SetLogger(logs.AdapterSlack, `{&quot;webhookurl&quot;:&quot;https://slack.com/xxx&quot;,&quot;level&quot;:1}`)
</code></pre>

<h2>Custom format logging</h2>

<p>A new feature of the 2.0 release of beego is the ability to have custom formatting applied to your logs before being sent to your preferred adapter. Here is an example of it in use:<br />
```go<br />
package main</p>

<p>import (</p>

<pre><code>&quot;fmt&quot;

beego &quot;github.com/beego/beego/v2/pkg&quot;
&quot;github.com/beego/beego/v2/pkg/logs&quot;
</code></pre>

<p>)</p>

<p>type MainController struct {</p>

<pre><code>beego.Controller
</code></pre>

<p>}</p>

<p>func customFormatter(lm *logs.LogMsg) string {</p>

<pre><code>return fmt.Sprintf(&quot;[CUSTOM FILE LOGGING] %s&quot;, lm.Msg)
</code></pre>

<p>}</p>

<p>func GlobalFormatter(lm *logs.LogMsg) string {</p>

<pre><code>return fmt.Sprintf(&quot;[GLOBAL] %s&quot;, lm.Msg)
</code></pre>

<p>}</p>

<p>func main() {</p>

<pre><code>beego.BConfig.Log.AccessLogs = true

// GlobalFormatter only overrides default log adapters. Hierarchy is like this:
// adapter specific formatter &gt; global formatter &gt; default formatter
logs.SetGlobalFormatter(GlobalFormatter)

logs.SetLogger(&quot;console&quot;, &quot;&quot;)

logs.SetLoggerWithOpts(&quot;file&quot;, []string{`{&quot;filename&quot;:&quot;test.json&quot;}`}, customFormatter)

beego.Run()
</code></pre>

<p>}<br />
```</p>

<h2>Global formatter</h2>

<p>With the global formatter you can override and <em>default</em> logging formatters. This means that setting a global formatter will override any <code>logs.SetLogger()</code> adapters but will not override and <code>logs.SetLoggerWithOpts()</code> adapters. Default logging formatters are any adapters set using the following syntax:<br />
<code>go
logs.SetLogger(&quot;adapterName&quot;, '{&quot;key&quot;:&quot;value&quot;}')
</code></p>

<h2>Adapter Specific formatters</h2>

<p>Apapter specific formatters can be set and will override any default or global formatter that has been set for a given adapter. Adapter specific logging formatters can be set using the following syntax:<br />
<code>go
logs.SetLoggerWithOpts(&quot;adapterName&quot;, []string{'{&quot;key&quot;:&quot;value&quot;}'}, utils.KV{Key:&quot;formatter&quot;, Value: formatterFunc})
</code></p>

</body>

<!-- Mirrored from beego.vip/docs/module/logs.md by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 27 Apr 2022 04:29:25 GMT -->

<!-- Mirrored from beego.w3engineers.com/beego.vip/docs/module/logs.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Oct 2022 03:29:53 GMT -->
</html>

                    </div>
                </div>
            </div>
            <script type="text/javascript">
                var disqus_url = 'http://beego.me/docs/' + 'module\/logs.md?lang=en-US';
            </script>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'beego'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>
</div>

		    </div>
		    <div class="wrapper-push"></div>
		</div>
		<footer id="footer">
    <div class="container">
        <div class="row footer-wrap">
            <div class="col-md-12 desc">
                <div class="pull-right">
                    <div class="btn-group dropup">
                        <button type="button" class="btn btn-default btn-md dropdown-toggle" data-toggle="dropdown">Language:English <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="zh-CN" class="lang-changed">简体中文</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                    
                    
                        <a class="btn btn-success" href="../../donate.html"><i class="icon-dollar"></i> Donate Us</a>
                    
                </div>
                
                <p>
                    <a href="../../about.html"><strong>About</strong></a>
                    |
                    <a href="../../team.html"><strong>Team</strong></a>
                    |
                    <a target="_blank" href="https://github.com/astaxie/beego" target="_blank"><strong><i class="icon-github-sign"></i> Github</strong></a>
                    - 2ms.
                </p>

                <p>
                    Copyright © 2012-2022 Beego Under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">apache 2.0 licence</a>. Logo designed by <a target="_blank" href="http://mdong.org/">Tengfei</a>.
                </p>

            </div>
        </div>
    </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39123845-1', 'beego.html');
  ga('send', 'pageview');

</script>

<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="../../static/js/lib.mine67fe67f.js?ver=1650787190"></script>

<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="../../static/js/app.mine67fe67f.js?ver=1650787190"></script>


	</body>
</html>



