<!DOCTYPE html>
<html>
	
<!-- Mirrored from beego.vip/docs/mvc/controller/controller.md by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 27 Apr 2022 04:29:20 GMT -->
<!-- Added by HTTrack -->
<!-- Mirrored from beego.w3engineers.com/beego.vip/docs/mvc/controller/controller.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Oct 2022 03:29:48 GMT -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="slene, Unknown" />

<title>Controller funcs - beego: simple &amp; powerful Go app framework</title>

<link rel="shortcut icon" href="../../../static/img/favicon.png" />


<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="../../../static/css/lib.mine67fe67f.css?ver=1650787190" />

<!--[if IE 7]>
<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="/static/css/ie7.min.css?ver=1650787190" />

<![endif]-->
<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="../../../static/css/app.mine67fe67f.css?ver=1650787190" />


<!--[if lt IE 9]>
	<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="/static/js/ie9.min.js?ver=1650787190"></script>

<![endif]-->
		
	</head>
	<body id="front">
		<noscript>Please enable JavaScript in your browser!</noscript>
		<div id="wrapper">
			<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container" data-toggle="clingify">
        <div class="row">
            <div class="navbar-header">
                
                <span class="visible-xs">
                    <a id="docs-collapse-btn" class="navbar-btn" data-toggle="jpanel-menu" data-target="#docs-collapse">
                        <span class="sr-only">Toggle docs menu</span>
                        <i class="icon icon-angle-right"></i>
                    </a>
                </span>
                
                <a type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="hidden-xs logo" href="../../../index.html">
                    <img style="height:32px;width:102px;" src="../../../static/img/beego_purple.png">
                </a>
                <div class="visible-xs text-center">
                    <a class="navbar-brand" href="../../../index.html">
                        Beego
                    </a>
                    
                    <span class="nav-github">
                        <span rel="show-github" data-user="astaxie" data-repo="beego"></span>
                    </span>
                    
                </div>
            </div>
            <div class="collapse navbar-collapse" role="navigation" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li ><a href="../../../index.html">Home</a></li>
                    <li ><a href="../../../quickstart.html">Getting started</a></li>
                    <li ><a href="../../../community.html">Community</a></li>
                    <li class="active"><a href="../../intro/index.html">Documentation</a></li>
                    <li ><a href="../../../video.html">Video</a></li>
                    <li ><a href="../../../products.html">Products</a></li>
                    <li ><a href="../../../blog.html">Blog</a></li>
                </ul>
                <div class="hidden-sm hidden-xs nav-lang pull-right">
                    <div class="btn-group">
                        <button type="button" class="btn btn-xs btn-default btn-md dropdown-toggle" data-toggle="dropdown">Language:English <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="zh-CN" class="lang-changed">简体中文</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                </div>
                <div class="hidden-sm hidden-xs nav-github pull-right">
                    <span rel="show-github" data-user="beego" data-repo="beego"></span>
                    <span rel="show-github" data-user="beego" data-repo="beego" data-type="fork"></span>
                </div>
            </div>
        </div>
    </div>
</nav>

			<div id="main">
				
<div class="container main-container">
    <div class="row">
        <div class="col-md-2 col-sm-3">
            <div id="docs-collapse" class="collapse navbar-collapse docs-sidenav">
                
                    
                    
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../intro/index.html">Beego introduction</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../intro/contributing.html">Contributing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../intro/releases.html">Release Notes</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../intro/upgrade.html">Upgrade Beego</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../install/index.html">Install / Upgrade</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../install/bee.html">bee tool usage</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../quickstart/index.html">Quickstart</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/new.html">Create a new project</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/router.html">Routing settings</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/controller.html">Controller</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/model.html">Models</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/view.html">View</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/static.html">Static files</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../index.html">MVC Introduction</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Controllers
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="config.html">Configuration</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="router.html">Routing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class="active item" href="controller.html">Controller funcs</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="params.html">Request parameters</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="xsrf.html">XSRF filtering</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="filter.html">Filters</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="session.html">Session control</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="flash.html">Flash messages</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="urlbuilding.html">URL Building</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="jsonxml.html">Response formats</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="validation.html">Form validation</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="errors.html">Error Handling</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="logs.html">Logging</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Models
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/overview.html">Overview</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/orm.html">ORM Usage</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/object.html">CRUD Operations</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/query.html">Advanced Queries</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/rawsql.html">Raw SQL to query</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/querybuilder.html">Query Builder</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/transaction.html">Transaction</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/models.html">Model Definition</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/cmd.html">Command Line</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/test.html">Test Cases</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/custom_fields.html">Custom Fields</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/faq.html">FAQ</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Views
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/view.html">Template Parsing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/template.html">Template Functions</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/static.html">Static files</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/page.html">Pagination</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/global_variables.html">Global Variables</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../module/index.html">Modules</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/session.html">Session Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/cache.html">Cache Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/logs.html">Logs Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/httplib.html">Httplib Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/context.html">Context Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/toolbox.html">toolbox</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/task.html">Task Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/admin.html">Admin module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/config.html">Config Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/governor.html">Governor module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/i18n.html">i18n Module</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../advantage/index.html">Advanced Beego</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../advantage/monitor.html">Live Monitor</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../advantage/docs.html">Automated API Documentation</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../contributed/index.html">Middleware contribution</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../deploy/index.html">Deployment</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/beego.html">Stand alone Deployment</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/supervisor.html">Deployment with Supervisord</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/systemctl.html">Deployment with Systemctl</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/nginx.html">Deployment with nginx</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/apache.html">Deployment with Apache</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../examples/index.html">Demos</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../examples/chat.html">Chat Room</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../examples/shorturl.html">URL Shortener</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../examples/todo.html">To-do List</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../faq/index.html">FAQ</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
    

                
            </div>
        </div>
        <div class="col-md-10 col-sm-9">
            <div class="box">
				<div>
					<script>
					  (function() {
					    var cx = '014389342508982455625:2tomkdt5uo4';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script>
					<gcse:search></gcse:search>
				</div>
                <div class="cell slim page-box">
                    <p>
                        <a href="https://github.com/beego/beedoc/blob/master/en-US/mvc/controller/controller.md" class="pull-right btn btn-info" target="_blank">Improve this page on GitHub</a>
                        <span class="clearfix"></span>
                    </p>
                    <div class="markdown docs-markdown">
                        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta name="GENERATOR" content="Blackfriday Markdown Processor v1.1" />
  <meta charset="utf-8" />
</head>
<body>

<h1>Introduction to controller</h1>

<blockquote>
<p>Note: From version 1.6: <code>this.ServeJson()</code> has been changed to <code>this.ServeJSON()</code> and <code>this.TplNames</code> has been changed to <code>this.TplName</code></p>
</blockquote>

<p>Beego&rsquo;s controller needs to be embeded as <code>beego.Controller</code>:</p>

<pre><code>type xxxController struct {
    web.Controller
}
</code></pre>

<p><code>web.Controller</code> implements interface <code>web.ControllerInterface</code>.  <code>web.ControllerInterface</code> defines these functions:</p>

<ul>
<li>Init(ct *context.Context, controllerName, actionName string, app interface{})<br /></li>
</ul>

<p>This function will initialize Context, Controller name, template name, template variable container <code>Data</code>. <code>app</code> is the executing Controller&rsquo;s reflecttype. This can be used to execute the subclass&rsquo;s methods.</p>

<ul>
<li>Prepare()<br /></li>
</ul>

<p>This function is used for extension and will execute before the methods below. It can be overwritten to implement functions such as user validation.</p>

<ul>
<li>Get()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is GET. It returns 403 by default. This can be used to handle GET requests by overwriting them in the struct of subclass.</p>

<ul>
<li>Post()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is POST.  It returns 403 by default. This can be used to handle POST requests by overwriting them in the struct of subclass.</p>

<ul>
<li>Delete()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is DELETE.  It returns 403 by default. This can be used to handle DELETE requests by overwriting them in the struct of subclass.</p>

<ul>
<li>Put()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is PUT. It returns 403 by default. This can be used to handle PUT requests by overwriting them in the struct of subclass.</p>

<ul>
<li>Head()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is HEAD. It return 403 by default. This can be used to handle HEAD requests by overwriting them in the struct of subclass.</p>

<ul>
<li>Patch()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is PATCH. It returns 403 by default. This can be used to handle PATCH requests by overwriting them in the struct of subclass.</p>

<ul>
<li>Options()<br /></li>
</ul>

<p>This method will be executed if the HTTP request method is OPTIONS. It returns 403 by default. This can be used to handle OPTIONS requests by overwriting them in the struct of subclass.</p>

<ul>
<li><p>Trace() error</p>

<p>This method will be executed if the HTTP request method is TRACE. It returns 403 by default. This can be used to handle TRACE requests by overwriting them in the struct of subclass.</p></li>

<li><p>Finish()</p></li>
</ul>

<p>This method will be executed after finishing the related HTTP method. It is empty by default. This can be implemented by overwriting it in the struct of subclass. It is used for database closing, data cleaning and so on.</p>

<ul>
<li>Render() error<br /></li>
</ul>

<p>This method is used to render templates. It is only executed if <code>web.AutoRender</code> is set to true.</p>

<ul>
<li><p>Mapping(method string, fn func())</p>

<p>Register a method. Generally, the <code>method</code> is valid HTTP method name.</p></li>

<li><p>HandlerFunc(fnname string) bool</p>

<p>Execute the method that register by <code>Mapping</code> method. It return false when <code>fnname</code> not found.</p></li>

<li><p>RenderBytes() ([]byte, error)</p>

<p>Render the template and output the result as <code>[]byte</code>. This method doesn&rsquo;t check <code>EnableRender</code> option, and it doesn&rsquo;t output the result to response.</p></li>

<li><p>RenderString() (string, error)</p>

<p>Similar with <code>RenderBytes()</code></p></li>

<li><p>Redirect(url string, code int)</p>

<p>Redirect the request to <code>url</code></p></li>

<li><p>SetData(data interface{})</p>

<p>Store <code>data</code> to <code>controller</code>. Usually you won&rsquo;t use this method.</p></li>

<li><p>Abort(code string)</p>

<p>Breaking current method with the code. <a href="errors.html">errors</a></p></li>

<li><p>CustomAbort(status int, body string)</p>

<p>Breaking current method with the code. <a href="errors.html">errors</a></p></li>

<li><p>StopRun()</p>

<p>Trigger panic.</p></li>

<li><p>ServeXXX(encoding &hellip;bool) error</p>

<p>Return response with the specific format. Supporting JSON, JSONP, XML, YAML. <a href="jsonxml.html">Output</a></p></li>

<li><p>ServeFormatted(encoding &hellip;bool) error</p>

<p>Return response with specific format passed from client&rsquo;s <code>Accept</code> option. <a href="jsonxml.html">Output</a></p></li>

<li><p>Input() (url.Values, error)</p>

<p>Return all parameters.</p></li>

<li><p>ParseForm(obj interface{}) error</p>

<p>Deserialize form to obj.</p></li>

<li><p>GetXXX(key string, def&hellip;) XXX, err</p>

<p>Read value from parameters. If the <code>def</code> not empty, return <code>def</code> when key not found or error.<br />
XXX coule be basic types, string or File.</p></li>

<li><p>SaveToFile(fromfile, tofile string) error</p>

<p>Save the uploading file to file system. <code>fromfile</code> is uploading file name.</p></li>

<li><p>SetSession(name interface{}, value interface{}) error</p>

<p>Put some value into session.</p></li>

<li><p>GetSession(name interface{}) interface{}</p>

<p>Read value from session.</p></li>

<li><p>DelSession(name interface{}) error</p>

<p>Delete the value from session.</p></li>

<li><p>SessionRegenerateID() error</p>

<p>Re-generate session id.</p></li>

<li><p>DestroySession() error</p>

<p>Destroy session.</p></li>

<li><p>IsAjax() bool</p>

<p>Check whether is ajax request.</p></li>

<li><p>GetSecureCookie(Secret, key string) (string, bool)</p>

<p>Read value from cookie.</p></li>

<li><p>SetSecureCookie(Secret, name, value string, others &hellip;interface{})</p>

<p>Put key-value pair into cookie.</p></li>

<li><p>XSRFToken() string</p>

<p>Create <code>CSRF</code> token.</p></li>

<li><p>CheckXSRFCookie() bool</p>

<p>Check <code>CSRF</code> token</p></li>
</ul>

<h2>Custom logic</h2>

<p>Custom logic can be implemented by overwriting functions in struct. For example:</p>

<pre><code>type AddController struct {
    web.Controller
}

func (this *AddController) Prepare() {

}

func (this *AddController) Get() {
    this.Data[&quot;content&quot;] = &quot;value&quot;
    this.Layout = &quot;admin/layout.html&quot;
    this.TplName = &quot;admin/add.tpl&quot;
}

func (this *AddController) Post() {
    pkgname := this.GetString(&quot;pkgname&quot;)
    content := this.GetString(&quot;content&quot;)
    pk := models.GetCruPkg(pkgname)
    if pk.Id == 0 {
        var pp models.PkgEntity
        pp.Pid = 0
        pp.Pathname = pkgname
        pp.Intro = pkgname
        models.InsertPkg(pp)
        pk = models.GetCruPkg(pkgname)
    }
    var at models.Article
    at.Pkgid = pk.Id
    at.Content = content
    models.InsertArticle(at)
    this.Ctx.Redirect(302, &quot;/admin/index&quot;)
}
</code></pre>

<p>In the example above a RESTful structure has been implemented by overwriting functions.</p>

<p>The following example implements a baseController and other initialization methods that will be inherited by other controllers:</p>

<pre><code>type NestPreparer interface {
        NestPrepare()
}

// baseRouter implements global settings for all other routers.
type baseRouter struct {
        web.Controller
        i18n.Locale
        user    models.User
        isLogin bool
}
// Prepare implements Prepare method for baseRouter.
func (this *baseRouter) Prepare() {

        // page start time
        this.Data[&quot;PageStartTime&quot;] = time.Now()

        // Setting properties.
        this.Data[&quot;AppDescription&quot;] = utils.AppDescription
        this.Data[&quot;AppKeywords&quot;] = utils.AppKeywords
        this.Data[&quot;AppName&quot;] = utils.AppName
        this.Data[&quot;AppVer&quot;] = utils.AppVer
        this.Data[&quot;AppUrl&quot;] = utils.AppUrl
        this.Data[&quot;AppLogo&quot;] = utils.AppLogo
        this.Data[&quot;AvatarURL&quot;] = utils.AvatarURL
        this.Data[&quot;IsProMode&quot;] = utils.IsProMode

        if app, ok := this.AppController.(NestPreparer); ok {
                app.NestPrepare()
        }
}
</code></pre>

<p>The above example defines a base class and initializes some variables. It will test if the executing Controller is an implementation of NestPreparer. If it is it calls the method of subclass.</p>

<p>The example below shows an implementation of <code>NestPreparer</code>:</p>

<pre><code>type BaseAdminRouter struct {
    baseRouter
}

func (this *BaseAdminRouter) NestPrepare() {
    if this.CheckActiveRedirect() {
            return
    }

    // if user isn't admin, then logout user
    if !this.user.IsAdmin {
            models.LogoutUser(&amp;this.Controller)

            // write flash message
            this.FlashWrite(&quot;NotPermit&quot;, &quot;true&quot;)

            this.Redirect(&quot;/login&quot;, 302)
            return
    }

    // current in admin page
    this.Data[&quot;IsAdmin&quot;] = true

    if app, ok := this.AppController.(ModelPreparer); ok {
            app.ModelPrepare()
            return
    }
}

func (this *BaseAdminRouter) Get(){
    this.TplName = &quot;Get.tpl&quot;
}

func (this *BaseAdminRouter) Post(){
    this.TplName = &quot;Post.tpl&quot;
}
</code></pre>

<p>The above example first executes <code>Prepare</code>. Go will search for methods in the struct by looking in the parent classes. <code>BaseAdminRouter</code> will execute and checks whether there is a <code>Prepare</code> method. If not it keeps searching <code>baseRouter</code>. If there is it will execute the logic. <code>this.AppController</code> in <code>baseRouter</code> is the currently executing Controller <code>BaseAdminRouter</code>. Next, it will execute <code>BaseAdminRouter.NestPrepare</code> method. Finally, it will start executing the related <code>GET</code> or <code>POST</code> method.</p>

<h2>Stop controller executing immediately</h2>

<p>To stop the execution logic of a request and return the response immediately use <code>StopRun()</code>. For example, when a user authentication fails in <code>Prepare</code> method a response will be returned immediately.</p>

<pre><code>type RController struct {
    web.Controller
}

func (this *RController) Prepare() {
    this.Data[&quot;json&quot;] = map[string]interface{}{&quot;name&quot;: &quot;astaxie&quot;}
    this.ServeJSON()
    this.StopRun()
}
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>If you call <code>StopRun</code> the <code>Finish</code> method won&rsquo;t be run. To free resources call <code>Finish</code> manually before calling <code>StopRun</code>.</p>
</blockquote>
</blockquote>
</blockquote>

</body>

<!-- Mirrored from beego.vip/docs/mvc/controller/controller.md by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 27 Apr 2022 04:29:20 GMT -->

<!-- Mirrored from beego.w3engineers.com/beego.vip/docs/mvc/controller/controller.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Oct 2022 03:29:48 GMT -->
</html>

                    </div>
                </div>
            </div>
            <script type="text/javascript">
                var disqus_url = 'http://beego.me/docs/' + 'mvc\/controller\/controller.md?lang=en-US';
            </script>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'beego'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>
</div>

		    </div>
		    <div class="wrapper-push"></div>
		</div>
		<footer id="footer">
    <div class="container">
        <div class="row footer-wrap">
            <div class="col-md-12 desc">
                <div class="pull-right">
                    <div class="btn-group dropup">
                        <button type="button" class="btn btn-default btn-md dropdown-toggle" data-toggle="dropdown">Language:English <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="zh-CN" class="lang-changed">简体中文</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                    
                    
                        <a class="btn btn-success" href="../../../donate.html"><i class="icon-dollar"></i> Donate Us</a>
                    
                </div>
                
                <p>
                    <a href="../../../about.html"><strong>About</strong></a>
                    |
                    <a href="../../../team.html"><strong>Team</strong></a>
                    |
                    <a target="_blank" href="https://github.com/astaxie/beego" target="_blank"><strong><i class="icon-github-sign"></i> Github</strong></a>
                    - 1ms.
                </p>

                <p>
                    Copyright © 2012-2022 Beego Under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">apache 2.0 licence</a>. Logo designed by <a target="_blank" href="http://mdong.org/">Tengfei</a>.
                </p>

            </div>
        </div>
    </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39123845-1', 'beego.html');
  ga('send', 'pageview');

</script>

<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="../../../static/js/lib.mine67fe67f.js?ver=1650787190"></script>

<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="../../../static/js/app.mine67fe67f.js?ver=1650787190"></script>


	</body>
</html>



