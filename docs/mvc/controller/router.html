<!DOCTYPE html>
<html>
	
<!-- Mirrored from beego.vip/docs/mvc/controller/router.md by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 27 Apr 2022 04:29:02 GMT -->
<!-- Added by HTTrack -->
<!-- Mirrored from beego.w3engineers.com/beego.vip/docs/mvc/controller/router.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Oct 2022 03:29:23 GMT -->
<meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
		<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="author" content="slene, Unknown" />

<title>Routing - beego: simple &amp; powerful Go app framework</title>

<link rel="shortcut icon" href="../../../static/img/favicon.png" />


<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="../../../static/css/lib.mine67fe67f.css?ver=1650787190" />

<!--[if IE 7]>
<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="/static/css/ie7.min.css?ver=1650787190" />

<![endif]-->
<script>/* Beego Compress Powered */</script>
	<link rel="stylesheet" href="../../../static/css/app.mine67fe67f.css?ver=1650787190" />


<!--[if lt IE 9]>
	<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="/static/js/ie9.min.js?ver=1650787190"></script>

<![endif]-->
		
	</head>
	<body id="front">
		<noscript>Please enable JavaScript in your browser!</noscript>
		<div id="wrapper">
			<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container" data-toggle="clingify">
        <div class="row">
            <div class="navbar-header">
                
                <span class="visible-xs">
                    <a id="docs-collapse-btn" class="navbar-btn" data-toggle="jpanel-menu" data-target="#docs-collapse">
                        <span class="sr-only">Toggle docs menu</span>
                        <i class="icon icon-angle-right"></i>
                    </a>
                </span>
                
                <a type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="hidden-xs logo" href="../../../index.html">
                    <img style="height:32px;width:102px;" src="../../../static/img/beego_purple.png">
                </a>
                <div class="visible-xs text-center">
                    <a class="navbar-brand" href="../../../index.html">
                        Beego
                    </a>
                    
                    <span class="nav-github">
                        <span rel="show-github" data-user="astaxie" data-repo="beego"></span>
                    </span>
                    
                </div>
            </div>
            <div class="collapse navbar-collapse" role="navigation" id="navbar-collapse">
                <ul class="nav navbar-nav">
                    <li ><a href="../../../index.html">Home</a></li>
                    <li ><a href="../../../quickstart.html">Getting started</a></li>
                    <li ><a href="../../../community.html">Community</a></li>
                    <li class="active"><a href="../../intro/index.html">Documentation</a></li>
                    <li ><a href="../../../video.html">Video</a></li>
                    <li ><a href="../../../products.html">Products</a></li>
                    <li ><a href="../../../blog.html">Blog</a></li>
                </ul>
                <div class="hidden-sm hidden-xs nav-lang pull-right">
                    <div class="btn-group">
                        <button type="button" class="btn btn-xs btn-default btn-md dropdown-toggle" data-toggle="dropdown">Language:English <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="zh-CN" class="lang-changed">简体中文</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                </div>
                <div class="hidden-sm hidden-xs nav-github pull-right">
                    <span rel="show-github" data-user="beego" data-repo="beego"></span>
                    <span rel="show-github" data-user="beego" data-repo="beego" data-type="fork"></span>
                </div>
            </div>
        </div>
    </div>
</nav>

			<div id="main">
				
<div class="container main-container">
    <div class="row">
        <div class="col-md-2 col-sm-3">
            <div id="docs-collapse" class="collapse navbar-collapse docs-sidenav">
                
                    
                    
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../intro/index.html">Beego introduction</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../intro/contributing.html">Contributing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../intro/releases.html">Release Notes</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../intro/upgrade.html">Upgrade Beego</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../install/index.html">Install / Upgrade</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../install/bee.html">bee tool usage</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../quickstart/index.html">Quickstart</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/new.html">Create a new project</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/router.html">Routing settings</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/controller.html">Controller</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/model.html">Models</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/view.html">View</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../quickstart/static.html">Static files</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../index.html">MVC Introduction</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Controllers
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="config.html">Configuration</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class="active item" href="router.html">Routing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="controller.html">Controller funcs</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="params.html">Request parameters</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="xsrf.html">XSRF filtering</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="filter.html">Filters</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="session.html">Session control</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="flash.html">Flash messages</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="urlbuilding.html">URL Building</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="jsonxml.html">Response formats</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="validation.html">Form validation</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="errors.html">Error Handling</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="logs.html">Logging</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Models
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/overview.html">Overview</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/orm.html">ORM Usage</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/object.html">CRUD Operations</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/query.html">Advanced Queries</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/rawsql.html">Raw SQL to query</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/querybuilder.html">Query Builder</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/transaction.html">Transaction</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/models.html">Model Definition</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/cmd.html">Command Line</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/test.html">Test Cases</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/custom_fields.html">Custom Fields</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../model/faq.html">FAQ</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                Views
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/view.html">Template Parsing</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/template.html">Template Functions</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/static.html">Static files</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/page.html">Pagination</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../view/global_variables.html">Global Variables</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../module/index.html">Modules</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/session.html">Session Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/cache.html">Cache Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/logs.html">Logs Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/httplib.html">Httplib Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/context.html">Context Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/toolbox.html">toolbox</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/task.html">Task Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/admin.html">Admin module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/config.html">Config Module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/governor.html">Governor module</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../module/i18n.html">i18n Module</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../advantage/index.html">Advanced Beego</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../advantage/monitor.html">Live Monitor</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../advantage/docs.html">Automated API Documentation</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../contributed/index.html">Middleware contribution</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../deploy/index.html">Deployment</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/beego.html">Stand alone Deployment</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/supervisor.html">Deployment with Supervisord</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/systemctl.html">Deployment with Systemctl</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/nginx.html">Deployment with nginx</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../deploy/apache.html">Deployment with Apache</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../examples/index.html">Demos</a>
                            
                            </div>
                            
    
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../examples/chat.html">Chat Room</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../examples/shorturl.html">URL Shortener</a></li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li><a class=" item" href="../../examples/todo.html">To-do List</a></li>
                    
                
            </ul>
        
    

                        </li>
                    
                
            </ul>
        
            <ul class="list-unstyled">
                
                    
                        <li class="group">
                            <div class="section">
                            
                                <a class=" item" href="../../faq/index.html">FAQ</a>
                            
                            </div>
                            
    
        
    

                        </li>
                    
                
            </ul>
        
    

                
            </div>
        </div>
        <div class="col-md-10 col-sm-9">
            <div class="box">
				<div>
					<script>
					  (function() {
					    var cx = '014389342508982455625:2tomkdt5uo4';
					    var gcse = document.createElement('script');
					    gcse.type = 'text/javascript';
					    gcse.async = true;
					    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					        '//www.google.com/cse/cse.js?cx=' + cx;
					    var s = document.getElementsByTagName('script')[0];
					    s.parentNode.insertBefore(gcse, s);
					  })();
					</script>
					<gcse:search></gcse:search>
				</div>
                <div class="cell slim page-box">
                    <p>
                        <a href="https://github.com/beego/beedoc/blob/master/en-US/mvc/controller/router.md" class="pull-right btn btn-info" target="_blank">Improve this page on GitHub</a>
                        <span class="clearfix"></span>
                    </p>
                    <div class="markdown docs-markdown">
                        <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>
  <meta name="GENERATOR" content="Blackfriday Markdown Processor v1.1" />
  <meta charset="utf-8" />
</head>
<body>

<h1>Routing</h1>

<p>This chapter will cover the three types of routers incorporated into Beego.</p>

<h2>Basic router</h2>

<p>Beego supports a RESTful function router. This basic router includes the URI and closure functions.</p>

<h3>GET router</h3>

<pre><code>web.Get(&quot;/&quot;,func(ctx *context.Context){
     ctx.Output.Body([]byte(&quot;hello world&quot;))
})
</code></pre>

<h3>POST router</h3>

<pre><code>web.Post(&quot;/alice&quot;,func(ctx *context.Context){
     ctx.Output.Body([]byte(&quot;bob&quot;))
})
</code></pre>

<h3>support all HTTP routers</h3>

<pre><code>web.Any(&quot;/foo&quot;,func(ctx *context.Context){
     ctx.Output.Body([]byte(&quot;bar&quot;))
})
</code></pre>

<h3>all the functions</h3>

<ul>
<li>web.Get(router, web.FilterFunc)<br /></li>
<li>web.Post(router, web.FilterFunc)<br /></li>
<li>web.Put(router, web.FilterFunc)<br /></li>
<li>web.Head(router, web.FilterFunc)<br /></li>
<li>web.Options(router, web.FilterFunc)<br /></li>
<li>web.Delete(router, web.FilterFunc)<br /></li>
<li>web.Any(router, web.FilterFunc)<br /></li>
</ul>

<h3>Handler register</h3>

<p>In cases where packages such as <code>net/http</code> are already implemented in a system they can be integrated into the web API or web system by following this procedure:</p>

<pre><code>s := rpc.NewServer()
s.RegisterCodec(json.NewCodec(), &quot;application/json&quot;)
s.RegisterService(new(HelloService), &quot;&quot;)
web.Handler(&quot;/rpc&quot;, s)
</code></pre>

<p><code>beego.Handler(router, http.Handler)</code> the first parameter represents the URI, and the second parameter represents <code>http.Handler</code>. When this is registered all requests to <code>/rpc</code> will call <code>http.Handler</code>.</p>

<p>There is also a third parameter, <code>isPrefix</code>.  If this parameter is set to <code>true</code> all the matches will comply with prefix matching, meaning that the url <code>/rpc/user</code> will also call the register. By default this value is <code>false</code>.</p>

<h2>RESTful router</h2>

<p>RESTful is a popular approach to API development that Beego supports implicitly, executing <code>Get</code> method for GET request and <code>Post</code> method for POST request. The default router is RESTful.</p>

<h2>Fixed router</h2>

<p>A fixed router is a full matching router, such as:</p>

<pre><code>web.Router(&quot;/&quot;, &amp;controllers.MainController{})
web.Router(&quot;/admin&quot;, &amp;admin.UserController{})
web.Router(&quot;/admin/index&quot;, &amp;admin.ArticleController{})
web.Router(&quot;/admin/addpkg&quot;, &amp;admin.AddController{})
</code></pre>

<p>The fixed routers above are typical RESTful routers in their most common configuration, with one fixed router and one controller. This results in the execution of a different method based on each request method.</p>

<h2>Regex router</h2>

<p>To simplify router configuration, Beego uses the router implementation approach found in Sinatra to support many router types.</p>

<ul>
<li>web.Router(&ldquo;/api/?:id&rdquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>default matching</em> /api/123    :id = 123  <em>can match</em> /api/</p>

<ul>
<li>web.Router(&ldquo;/api/:id&rdquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>default matching</em> /api/123    :id = 123  <em>can&rsquo;t match</em> /api/</p>

<ul>
<li>web.Router(&ldquo;/api/:id([0-9]+)&ldquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>Customized regex matching</em> /api/123 :id = 123</p>

<ul>
<li>web.Router(&ldquo;/user/:username([\w]+)&ldquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>Regex string matching</em> /user/astaxie :username = astaxie</p>

<ul>
<li>web.Router(&ldquo;/download/*.*&rdquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>matching</em> /download/file/api.xml :path= file/api :ext=xml</p>

<ul>
<li>web.Router(&ldquo;/download/ceshi/*&ldquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>full matching</em> /download/ceshi/file/api.json :splat=file/api.json</p>

<ul>
<li>web.Router(&ldquo;/:id:int&rdquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>int type matching</em> :id is int type. web implements ([0-9]+) for you</p>

<ul>
<li>web.Router(&ldquo;/:hello:string&rdquo;, &amp;controllers.RController{})<br /></li>
</ul>

<p><em>string type matching</em> :hello is string type. web implements ([\w]+) for you</p>

<ul>
<li>beego.Router(&ldquo;/cms_:id([0-9]+).html&rdquo;, &amp;controllers.CmsController{})<br /></li>
</ul>

<p><em>has prefix regex</em> :id is the regex. <em>matching</em> cms_123.html :id = 123</p>

<p>The variables can be accessed in the controller like this:</p>

<pre><code>this.Ctx.Input.Param(&quot;:id&quot;)
this.Ctx.Input.Param(&quot;:username&quot;)
this.Ctx.Input.Param(&quot;:splat&quot;)
this.Ctx.Input.Param(&quot;:path&quot;)
this.Ctx.Input.Param(&quot;:ext&quot;)
</code></pre>

<h2>Custom methods and RESTful rules</h2>

<p>The examples above use default method names, where the request method name is same as the controller method name.  For example as <code>GET</code> request executes <code>Get</code> method and <code>POST</code> request executes <code>Post</code> method.  Different controller method names can be set like this:</p>

<pre><code>web.Router(&quot;/&quot;,&amp;IndexController{},&quot;*:Index&quot;)
</code></pre>

<p>Use the third parameter which is the method you want to call in the controller. Here are some rules:</p>

<ul>
<li>* means any request method will execute this method.<br /></li>
<li>Use httpmethod:funcname format.<br /></li>
<li>Multiple formats can use <code>;</code> as the separator.<br /></li>
<li>Many HTTP methods mapping the same funcname, use <code>,</code> as the separator for HTTP methods.<br /></li>
</ul>

<p>Below are some examples of RESTful design:</p>

<pre><code>web.Router(&quot;/api/list&quot;,&amp;RestController{},&quot;*:ListFood&quot;)
web.Router(&quot;/api/create&quot;,&amp;RestController{},&quot;post:CreateFood&quot;)
web.Router(&quot;/api/update&quot;,&amp;RestController{},&quot;put:UpdateFood&quot;)
web.Router(&quot;/api/delete&quot;,&amp;RestController{},&quot;delete:DeleteFood&quot;)
</code></pre>

<p>Below is an example of multiple HTTP methods mapping to the same controller method:</p>

<pre><code>web.Router(&quot;/api&quot;,&amp;RestController{},&quot;get,post:ApiFunc&quot;)
</code></pre>

<p>Below is an example of different HTTP methods mapping to different controller methods. <code>;</code> as the separator:</p>

<pre><code>web.Router(&quot;/simple&quot;,&amp;SimpleController{},&quot;get:GetFunc;post:PostFunc&quot;)
</code></pre>

<p>Below are the acceptable HTTP methods:</p>

<ul>
<li>*：including all methods below<br /></li>
<li>get ：GET request<br /></li>
<li>post ：POST request<br /></li>
<li>put ：PUT request<br /></li>
<li>delete ：DELETE request<br /></li>
<li>patch ：PATCH request<br /></li>
<li>options ：OPTIONS request<br /></li>
<li>head ：HEAD request<br /></li>
</ul>

<p>If * and other HTTP methods are used together the HTTP method will be executed first. For example:</p>

<pre><code>web.Router(&quot;/simple&quot;,&amp;SimpleController{},&quot;*:AllFunc;post:PostFunc&quot;)
</code></pre>

<p>The <code>PostFunc</code> rather than the <code>AllFunc</code> will be executed for POST requests.</p>

<p>The router of custom methods does not support RESTful behaviour by default which means if you set the router like <code>web.Router(&quot;/api&quot;,&amp;RestController{},&quot;post:ApiFunc&quot;)</code> and the request method is <code>POST</code> then the <code>Post</code> method won&rsquo;t be executed by default.</p>

<h2>Auto matching</h2>

<p>To use auto matching the controller must be registered as an auto-router.</p>

<pre><code>web.AutoRouter(&amp;controllers.ObjectController{})
</code></pre>

<p>Beego will retrieve all the methods in that controller by reflection. The related methods can be called like this:</p>

<pre><code>/object/login   will call Login method of ObjectController
/object/logout  will call Logout method of ObjectController
</code></pre>

<p>Except <code>/:controller/:method</code> will match to controller and method. The remainder of the url path will be parsed as GET parameters and saved into <code>this.Ctx.Input.Param</code>:</p>

<pre><code>/object/blog/2013/09/12  will call Blog method of ObjectController with parameters `map[0:2013 1:09 2:12]`.
</code></pre>

<p>URL will match by lowercase conversion, so <code>object/LOGIN</code> will also map to <code>Login</code> method.</p>

<p>All the urls below will map to the <code>simple</code> method of <code>controller</code>.</p>

<pre><code>/controller/simple
/controller/simple.html
/controller/simple.json
/controller/simple.xml
</code></pre>

<p>The extension name of the url can be reached by accessing <code>this.Ctx.Input.Param(&quot;:ext&quot;)</code>.</p>

<h2>Annotations</h2>

<p>Not all routers need to be registered inside <code>router.go</code>. Only the controller needs to be registered using <code>Include</code>. For example:</p>

<pre><code>// CMS API
type CMSController struct {
    web.Controller
}

func (c *CMSController) URLMapping() {
    c.Mapping(&quot;StaticBlock&quot;, c.StaticBlock)
    c.Mapping(&quot;AllBlock&quot;, c.AllBlock)
}

// @router /staticblock/:key [get]
func (this *CMSController) StaticBlock() {

}

// @router /all/:key [get]
func (this *CMSController) AllBlock() {
}
</code></pre>

<p>The routers can then be registered in <code>router.go</code></p>

<pre><code>web.Include(&amp;CMSController{})
</code></pre>

<p>Beego will parse the source code automatically when under dev mode.</p>

<p>The following routers will be supported:</p>

<ul>
<li>GET /staticblock/:key<br /></li>
<li>GET /all/:key<br /></li>
</ul>

<p>This is exactly same as registering by Router functions:</p>

<pre><code>web.Router(&quot;/staticblock/:key&quot;, &amp;CMSController{}, &quot;get:StaticBlock&quot;)
web.Router(&quot;/all/:key&quot;, &amp;CMSController{}, &quot;get:AllBlock&quot;)
</code></pre>

<p>If you do not use <code>URLMapping</code> Beego will find the function by reflection, otherwise Beego will find the function with the must faster <code>interface</code>.</p>

<h2>Automatic Parameter Handling</h2>

<p>Beego supports automatic injection of http request parameters as method arguments, and method return values as http responses.<br />
For example, defining the following controller method:</p>

<pre><code>// @router /tasks/:id
func (c *TaskController) MyMethod(id int, field string) (map[string]interface{}, error) {
    if u, err := getObjectField(id, field); err == nil {
        return u, nil
    } else {
        return nil, context.NotFound
    }
}
</code></pre>

<p>will automatically route the http parameters id and field (i.e. <code>/tasks/5?field=name</code> ) to the correct method parameters, and will render the method return value as JSON. If the method returns an error it will be rendered as an http status code.<br />
If the parameter does not exist in the http request it will be passed to the method as the zero value for that parameter, unless that parameter is marked as &lsquo;required&rsquo; using annotations.  This will return an error without calling the method.<br />
For more information, see <a href="params.html">Parameters</a></p>

<h2>Method Expression Router</h2>

<p>The method expression router is to register routers by providing a controller method expresion. If the receiver of<br />
the controller method is a non-pointer type, then you can pass method expression as <code>pkg.controller.method</code>. If the receiver<br />
of method is a pointer, then you need to pass method expression as <code>(*pkg.controller).method</code>. However, if you register router in<br />
the same package as controller, then you don&rsquo;t need to provide <code>pkg</code>.</p>

<pre lang="golang"><code>// Here are some examples:

type BaseController struct {
    web.Controller
}

func (b BaseController) Ping() {
    b.Data[&quot;json&quot;] = &quot;pong&quot;
    b.ServeJSON()
}

func (b *BaseController) PingPointer() {
    b.Data[&quot;json&quot;] = &quot;pong_pointer&quot;
    b.ServeJSON()
}

func main() {
    web.CtrlGet(&quot;/ping&quot;, BaseController.Ping)
    web.CtrlGet(&quot;/ping_pointer&quot;, (*BaseController).PingPointer)
    web.Run()
}
</code></pre>

<p>There are many other Method Expression Routers：</p>

<ul>
<li>web.CtrlGet(router, pkg.controller.method)<br /></li>
<li>web.CtrlPost(router, pkg.controller.method)<br /></li>
<li>web.CtrlPut(router, pkg.controller.method)<br /></li>
<li>web.CtrlPatch(router, pkg.controller.method)<br /></li>
<li>web.CtrlHead(router, pkg.controller.method)<br /></li>
<li>web.CtrlOptions(router, pkg.controller.method)<br /></li>
<li>web.CtrlDelete(router, pkg.controller.method)<br /></li>
<li>web.CtrlAny(router, pkg.controller.method)<br /></li>
</ul>

<p>It also provides namespace functions：</p>

<ul>
<li>web.NSCtrlGet<br /></li>
<li>web.NSCtrlPost<br /></li>
<li>&hellip;&hellip;<br /></li>
</ul>

<h2>namespace</h2>

<pre><code>//init namespace
ns :=
web.NewNamespace(&quot;/v1&quot;,
    web.NSCond(func(ctx *context.Context) bool {
        if ctx.Input.Domain() == &quot;api.web.me&quot; {
            return true
        }
        return false
    }),
    web.NSBefore(auth),
    web.NSGet(&quot;/notallowed&quot;, func(ctx *context.Context) {
        ctx.Output.Body([]byte(&quot;notAllowed&quot;))
    }),
    web.NSRouter(&quot;/version&quot;, &amp;AdminController{}, &quot;get:ShowAPIVersion&quot;),
    web.NSRouter(&quot;/changepassword&quot;, &amp;UserController{}),
    web.NSNamespace(&quot;/shop&quot;,
        web.NSBefore(sentry),
        web.NSGet(&quot;/:id&quot;, func(ctx *context.Context) {
            ctx.Output.Body([]byte(&quot;notAllowed&quot;))
        }),
    ),
    web.NSNamespace(&quot;/cms&quot;,
        web.NSInclude(
            &amp;controllers.MainController{},
            &amp;controllers.CMSController{},
            &amp;controllers.BlockController{},
        ),
    ),
)

//register namespace
web.AddNamespace(ns)
</code></pre>

<p>the code set out above supports the URL:</p>

<ul>
<li>GET /v1/changepassword<br /></li>
<li>POST /v1/changepassword<br /></li>
<li>GET /v1/shop/123<br /></li>
<li>GET /v1/cms/ maps to annotation routers in MainController, CMSController, BlockController<br /></li>
</ul>

<p>namespace supports filter, condition and nested namespace</p>

<p>namespace API:</p>

<ul>
<li><p>NewNamespace(prefix string,&hellip;interface{})</p>

<p>Create a namespace object. The namespace object&rsquo;s methods are listed below.<br />
For compatibility with the gofmt tool is is recommend that these method names begin with <code>NS</code>.</p></li>

<li><p>NSCond(cond namespaceCond)</p>

<p>if the namespaceCond returns true this namespace will be run.</p></li>

<li><p>NSBefore(filterList &hellip;FilterFunc)</p></li>

<li><p>NSAfter(filterList &hellip;FilterFunc)</p>

<p>For <code>BeforeRouter</code> and <code>FinishRouter</code> filters. Multiple filters can be registered.</p></li>

<li><p>NSInclude(cList &hellip;ControllerInterface)</p></li>

<li><p>NSRouter(rootpath string, c ControllerInterface, mappingMethods &hellip;string)</p></li>

<li><p>NSGet(rootpath string, f FilterFunc)</p></li>

<li><p>NSPost(rootpath string, f FilterFunc)</p></li>

<li><p>NSDelete(rootpath string, f FilterFunc)</p></li>

<li><p>NSPut(rootpath string, f FilterFunc)</p></li>

<li><p>NSHead(rootpath string, f FilterFunc)</p></li>

<li><p>NSOptions(rootpath string, f FilterFunc)</p></li>

<li><p>NSPatch(rootpath string, f FilterFunc)</p></li>

<li><p>NSAny(rootpath string, f FilterFunc)</p></li>

<li><p>NSHandler(rootpath string, h http.Handler)</p></li>

<li><p>NSAutoRouter(c ControllerInterface)</p></li>

<li><p>NSAutoPrefix(prefix string, c ControllerInterface)</p>

<p>These are methods to set up routers equivilant to the basic routers.</p></li>

<li><p>NSNamespace(prefix string, params &hellip;innnerNamespace)</p>

<p>Nested namespaces</p>

<pre><code>ns :=
web.NewNamespace(&quot;/v1&quot;,
    web.NSNamespace(&quot;/shop&quot;,
        web.NSGet(&quot;/:id&quot;, func(ctx *context.Context) {
            ctx.Output.Body([]byte(&quot;shopinfo&quot;))
        }),
    ),
    web.NSNamespace(&quot;/order&quot;,
        web.NSGet(&quot;/:id&quot;, func(ctx *context.Context) {
            ctx.Output.Body([]byte(&quot;orderinfo&quot;))
        }),
    ),
    web.NSNamespace(&quot;/crm&quot;,
        web.NSGet(&quot;/:id&quot;, func(ctx *context.Context) {
            ctx.Output.Body([]byte(&quot;crminfo&quot;))
        }),
    ),
)
</code></pre></li>
</ul>

<p>The methods below are for the<code>*Namespace</code> object and are not recommended. They have the same functionality as methods with <code>NS</code>, but are less elegant and harder to read.</p>

<ul>
<li><p>Cond(cond namespaceCond)</p>

<p>if the namespaceCond return true will run this namespace.</p></li>

<li><p>Filter(action string, filter FilterFunc)</p>

<p>action represents which position to run ,<code>before</code> and <code>after</code> is two validate value</p></li>

<li><p>Router(rootpath string, c ControllerInterface, mappingMethods &hellip;string)</p></li>

<li><p>AutoRouter(c ControllerInterface)</p></li>

<li><p>AutoPrefix(prefix string, c ControllerInterface)</p></li>

<li><p>Get(rootpath string, f FilterFunc)</p></li>

<li><p>Post(rootpath string, f FilterFunc)</p></li>

<li><p>Delete(rootpath string, f FilterFunc)</p></li>

<li><p>Put(rootpath string, f FilterFunc)</p></li>

<li><p>Head(rootpath string, f FilterFunc)</p></li>

<li><p>Options(rootpath string, f FilterFunc)</p></li>

<li><p>Patch(rootpath string, f FilterFunc)</p></li>

<li><p>Any(rootpath string, f FilterFunc)</p></li>

<li><p>Handler(rootpath string, h http.Handler)</p>

<p>these functions are the same as mentioned earlier</p></li>

<li><p>Namespace(ns &hellip;*Namespace)</p></li>
</ul>

<p>More functions can be nested:</p>

<pre lang="go"><code>
//APIS
ns :=
    web.NewNamespace(&quot;/api&quot;,
        //It should verify the encrypted request in the production using
        web.NSCond(func(ctx *context.Context) bool {
            if ua := ctx.Input.Request.UserAgent(); ua != &quot;&quot; {
                return true
            }
            return false
        }),
        web.NSNamespace(&quot;/ios&quot;,
            //CRUD Create, Read, Update and Delete
            web.NSNamespace(&quot;/create&quot;,
                // /api/ios/create/node/
                web.NSRouter(&quot;/node&quot;, &amp;apis.CreateNodeHandler{}),
                // /api/ios/create/topic/
                web.NSRouter(&quot;/topic&quot;, &amp;apis.CreateTopicHandler{}),
            ),
            web.NSNamespace(&quot;/read&quot;,
                web.NSRouter(&quot;/node&quot;, &amp;apis.ReadNodeHandler{}),
                web.NSRouter(&quot;/topic&quot;, &amp;apis.ReadTopicHandler{}),
            ),
            web.NSNamespace(&quot;/update&quot;,
                web.NSRouter(&quot;/node&quot;, &amp;apis.UpdateNodeHandler{}),
                web.NSRouter(&quot;/topic&quot;, &amp;apis.UpdateTopicHandler{}),
            ),
            web.NSNamespace(&quot;/delete&quot;,
                web.NSRouter(&quot;/node&quot;, &amp;apis.DeleteNodeHandler{}),
                web.NSRouter(&quot;/topic&quot;, &amp;apis.DeleteTopicHandler{}),
            )
        ),
    )

web.AddNamespace(ns)
</code></pre>

</body>

<!-- Mirrored from beego.vip/docs/mvc/controller/router.md by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 27 Apr 2022 04:29:02 GMT -->

<!-- Mirrored from beego.w3engineers.com/beego.vip/docs/mvc/controller/router.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 15 Oct 2022 03:29:23 GMT -->
</html>

                    </div>
                </div>
            </div>
            <script type="text/javascript">
                var disqus_url = 'http://beego.me/docs/' + 'mvc\/controller\/router.md?lang=en-US';
            </script>
            <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'beego'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </div>
</div>

		    </div>
		    <div class="wrapper-push"></div>
		</div>
		<footer id="footer">
    <div class="container">
        <div class="row footer-wrap">
            <div class="col-md-12 desc">
                <div class="pull-right">
                    <div class="btn-group dropup">
                        <button type="button" class="btn btn-default btn-md dropdown-toggle" data-toggle="dropdown">Language:English <i class="caret"></i></button>
                        <ul class="dropdown-menu">
                            
                                <li><a href="javascript::" data-lang="zh-CN" class="lang-changed">简体中文</a></li>
                            
                                <li><a href="javascript::" data-lang="ru-RU" class="lang-changed">Russian</a></li>
                            
                        </ul>
                    </div>
                    
                    
                        <a class="btn btn-success" href="../../../donate.html"><i class="icon-dollar"></i> Donate Us</a>
                    
                </div>
                
                <p>
                    <a href="../../../about.html"><strong>About</strong></a>
                    |
                    <a href="../../../team.html"><strong>Team</strong></a>
                    |
                    <a target="_blank" href="https://github.com/astaxie/beego" target="_blank"><strong><i class="icon-github-sign"></i> Github</strong></a>
                    - 1ms.
                </p>

                <p>
                    Copyright © 2012-2022 Beego Under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html">apache 2.0 licence</a>. Logo designed by <a target="_blank" href="http://mdong.org/">Tengfei</a>.
                </p>

            </div>
        </div>
    </div>
</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39123845-1', 'beego.html');
  ga('send', 'pageview');

</script>

<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="../../../static/js/lib.mine67fe67f.js?ver=1650787190"></script>

<script>/* Beego Compress Powered */</script>
	<script type="text/javascript" src="../../../static/js/app.mine67fe67f.js?ver=1650787190"></script>


	</body>
</html>



